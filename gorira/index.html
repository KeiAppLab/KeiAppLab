<!DOCTYPE html>
    <html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>GORIRA</title>
        <!-- åˆæœŸçŠ¶æ…‹ã§ã¯æœ€æ–°3ä»¶ã®news.jsã®ã¿èª­ã¿è¾¼ã‚€ï¼ˆé€šä¿¡é‡ç¯€ç´„ï¼‰ -->
        <script src="news.js"></script>
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@700;900&family=Roboto:wght@500;900&display=swap');
            body { font-family: 'Noto Serif JP', serif; background: #fff; color: #333; padding: 0; margin: 0; line-height: 1.8; overflow-x: hidden; }
            
            /* --- ãƒˆãƒƒãƒ—å›ºå®šãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆèƒŒæ™¯æ ãªã—ã€ãƒœã‚¿ãƒ³ã®ã¿å›ºå®šï¼‰ --- */
            .top-nav {
                position: fixed; top: 15px; left: 50%; transform: translateX(-50%);
                width: 100%; max-width: 800px; padding: 0 20px; box-sizing: border-box;
                display: flex; justify-content: space-between; align-items: flex-start;
                z-index: 1000; pointer-events: none; /* ã‚³ãƒ³ãƒ†ãƒŠè‡ªä½“ã¯ã‚¯ãƒªãƒƒã‚¯ã‚¹ãƒ«ãƒ¼ */
            }
            .top-nav > * { pointer-events: auto; /* ãƒœã‚¿ãƒ³éƒ¨åˆ†ã¯ã‚¯ãƒªãƒƒã‚¯æœ‰åŠ¹ */ }
            
            /* æˆ»ã‚‹ãƒœã‚¿ãƒ³ */
            .back-btn {
                cursor: pointer; font-family: 'Roboto', sans-serif; font-weight: 900;
                color: #0056b3; text-decoration: none; display: flex; align-items: center; gap: 5px;
                background: rgba(255,255,255,0.8); padding: 5px 10px; border-radius: 8px; backdrop-filter: blur(2px);
            }
            .back-btn:hover { color: #003d82; }

            /* --- è¨€èªåˆ‡ã‚Šæ›¿ãˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³UI --- */
            .lang-menu-wrapper { position: relative; }
            .lang-main-btn {
                background: #0056b3; color: #fff; border: none; padding: 8px 15px; border-radius: 20px;
                font-family: 'Roboto', sans-serif; font-weight: 900; cursor: pointer; z-index: 10; position: relative;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            }
            .lang-sub-btns {
                position: absolute; top: 10px; right: 0;
                display: flex; flex-direction: row-reverse;
                pointer-events: none;
            }
            .lang-circle {
                width: 35px; height: 35px; border-radius: 50%; color: white; border: none;
                font-family: 'Roboto', sans-serif; font-weight: bold; font-size: 0.8rem;
                display: flex; justify-content: center; align-items: center; cursor: pointer;
                position: absolute; right: 0; top: 0;
                opacity: 0; transform: translateY(0) translateX(0);
                transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            }
            /* å„è¨€èªã®è‰²ã¨é‡ãªã‚Šé †ï¼ˆz-indexã‚’ç·»å¯†ã«è¨­å®šï¼‰ */
            .lang-ja { background: #e74c3c; z-index: 5; }
            .lang-en { background: #3498db; z-index: 4; }
            .lang-de { background: #f1c40f; color: #333; z-index: 3; }
            .lang-fr { background: #9b59b6; z-index: 2; }
            .lang-es { background: #e67e22; z-index: 1; }

            /* å±•é–‹æ™‚ã®ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ (ç§»å‹•è·é›¢ã‚’åŠæ¸›ã•ã›ã€ãƒœã‚¿ãƒ³ã‚’é‡ã­ã‚‹) */
            .lang-menu-wrapper.open .lang-sub-btns { pointer-events: auto; }
            .lang-menu-wrapper.open .lang-circle { opacity: 1; }
            .lang-menu-wrapper.open .lang-circle:nth-child(1) { transform: translateY(45px) translateX(0); }
            .lang-menu-wrapper.open .lang-circle:nth-child(2) { transform: translateY(45px) translateX(-22px); }
            .lang-menu-wrapper.open .lang-circle:nth-child(3) { transform: translateY(45px) translateX(-44px); }
            .lang-menu-wrapper.open .lang-circle:nth-child(4) { transform: translateY(45px) translateX(-66px); }
            .lang-menu-wrapper.open .lang-circle:nth-child(5) { transform: translateY(45px) translateX(-88px); }

            /* --- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ --- */
            .main-content { max-width: 800px; margin: 80px auto 40px auto; padding: 20px; }
            h1 { border-bottom: 3px solid #0056b3; display: inline-block; padding-bottom: 5px; margin-bottom: 20px; font-size: 1.5rem; }
            img { max-width: 100%; border-radius: 10px; margin: 20px 0; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
            .meta-info { color: #666; font-size: 0.9rem; margin-bottom: 20px; }
            .news-box { margin-top: 15px; padding: 15px; background: #f9f9f9; border-left: 4px solid #0056b3; border-radius:4px; animation: fadeIn 0.5s; }
            @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
            .date { color: #666; font-size: 0.8rem; margin-bottom: 5px; }
            .history-link { display: inline-block; margin-top: 15px; color: #0056b3; text-decoration: none; font-weight:bold; cursor: pointer; }
            .history-link:hover { text-decoration: underline; }
            
            /* ãƒ•ãƒƒã‚¿ãƒ¼ */
            .footer { margin-top: 50px; padding-top: 20px; border-top: 1px solid #eee; text-align: center; font-size: 0.85rem; color: #666; }
            .footer a { color: #0056b3; text-decoration: none; font-weight: bold; }
            .footer a:hover { text-decoration: underline; }
        </style>
    </head>
    <body>
        <div class="top-nav">
            <a href="#" class="back-btn" onclick="goBack(event)">ğŸ”™ <span id="back-text">æˆ»ã‚‹</span></a>
            
            <div class="lang-menu-wrapper" id="langMenu">
                <button class="lang-main-btn" onclick="toggleLangMenu()">Language â–¼</button>
                <div class="lang-sub-btns">
                    <!-- å³ã‹ã‚‰é †ã«é…ç½® -->
                    <button class="lang-circle lang-es" onclick="changeLang('es')">ES</button>
                    <button class="lang-circle lang-fr" onclick="changeLang('fr')">FR</button>
                    <button class="lang-circle lang-de" onclick="changeLang('de')">DE</button>
                    <button class="lang-circle lang-en" onclick="changeLang('en')">EN</button>
                    <button class="lang-circle lang-ja" onclick="changeLang('ja')">JP</button>
                </div>
            </div>
        </div>

        <div class="main-content">
            <h1 id="app-title">Loading...</h1>
            <div class="meta-info">
                <span id="app-date"></span> | <span id="app-sub-title"></span>
            </div>
            
            <img src="index.png" alt="App Image">
            
            <div id="app-desc" style="margin-bottom: 30px;"></div>
            
            <h3 id="news-heading" style="border-bottom:2px solid #ccc; padding-bottom:5px;">æœ€æ–°ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹</h3>
            <div id="news-container"></div>
            
            <!-- ã‚¯ãƒªãƒƒã‚¯æ™‚ã«å‹•çš„ã«é€šä¿¡ã—ã¦å±¥æ­´ã‚’èª­ã¿è¾¼ã‚€ -->
            <div style="text-align: right;">
                <a class="history-link" id="history-link" onclick="loadOldNews(event)">â–¶ ã™ã¹ã¦ã®æ›´æ–°å±¥æ­´ã‚’è¦‹ã‚‹ã€‚</a>
            </div>

            <div class="footer">
                <a href="#" id="privacy-link" onclick="checkPrivacy(event)">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a><br><br>
                Â© 2026 å•“ App Lab | <a href="../app-ads.txt" target="_blank">app-ads.txt</a>
            </div>
        </div>
    
        <script>
            // ç®¡ç†ç”»é¢ã‹ã‚‰ç”Ÿæˆæ™‚ã«åŸ‹ã‚è¾¼ã¾ã‚ŒãŸå¤šè¨€èªãƒ‡ãƒ¼ã‚¿
            const appData = {"project_id":"gorira","date":"2026.02.12","category":"update","image":"index_phot/index_play.png","status":"coming","project_ja":"GORIRA","project_en":"GORIRA","project_de":"Gratis Anruf-App","project_fr":"App d'appels gratuits","project_es":"App de llamadas gratis","title_ja":"åºƒå‘Šã‚’åŠ›ã«ã€é€šè©±ã‚’è‡ªç”±ã«ã€‚","title_en":"Powered by ads, call freely.","title_de":"Werbefinanziert, frei telefonieren.","title_fr":"Appels libres grÃ¢ce Ã  la publicitÃ©.","title_es":"Llamadas libres impulsadas por anuncios.","body_ja":"ç‰¹å¾´\nãƒ»å®Œå…¨ç„¡æ–™: çŸ­ã„å‹•ç”»åºƒå‘Šã‚’è¦‹ã‚‹ã ã‘ã§é€šè©±æ™‚é–“ã‚’ç²å¾—ã€‚\nãƒ»å›ºå®šé›»è©±å°‚ç”¨: ãŠåº—ã‚„å½¹æ‰€ã¸ã®ã¡ã‚‡ã£ã¨ã—ãŸé›»è©±ã«æœ€é©ã€‚\nãƒ»ç™»éŒ²ä¸è¦: é¢å€’ãªä¼šå“¡ç™»éŒ²ãªã—ã§ã™ãã«ä½¿ãˆã¾ã™ã€‚","body_en":"Features\nãƒ»Completely Free: Earn calling time simply by watching short video ads.\nãƒ»Fixed-line Exclusive: Perfect for quick calls to shops or public offices.\nãƒ»No Registration Required: Start calling immediately without any tedious sign-up process.","body_de":"Eigenschaften\nãƒ»Komplett kostenlos: Sammeln Sie GesprÃ¤chsminuten, indem Sie sich kurze Videoanzeigen ansehen.\nãƒ»Exklusiv fÃ¼r das Festnetz: Ideal fÃ¼r kurze Anrufe in GeschÃ¤ften oder BehÃ¶rden.\nãƒ»Keine Registrierung erforderlich: Sofort einsatzbereit ohne mÃ¼hsame Anmeldung.","body_fr":"CaractÃ©ristiques\nãƒ»EntiÃ¨rement gratuit : Gagnez du temps d'appel en regardant simplement de courtes publicitÃ©s vidÃ©o.\nãƒ»Exclusivement pour les lignes fixes : IdÃ©al pour les courts appels vers les magasins ou les administrations.\nãƒ»Aucune inscription requise : PrÃªt Ã  l'emploi immÃ©diatement sans inscription fastidieuse.","body_es":"CaracterÃ­sticas\nãƒ»Totalmente gratis: ObtÃ©n tiempo de llamada simplemente viendo anuncios de video cortos.\nãƒ»Exclusivo para telÃ©fonos fijos: Ideal para llamadas cortas a tiendas u oficinas pÃºblicas.\nãƒ»Sin registro: Ãšselo al instante sin tediosos procesos de suscripciÃ³n."};
            let currentLang = localStorage.getItem('selectedLang') || 'ja';

            // å¤šè¨€èªç”¨ãƒ†ã‚­ã‚¹ãƒˆå®šç¾©
            const texts = {
                ja: { back: "æˆ»ã‚‹", backTop: "å•“(KEI)App Labã¸æˆ»ã‚‹", news: "æœ€æ–°ã®ãƒ‹ãƒ¥ãƒ¼ã‚¹", history: "â–¶ ã™ã¹ã¦ã®æ›´æ–°å±¥æ­´ã‚’è¦‹ã‚‹ã€‚", loading: "èª­ã¿è¾¼ã¿ä¸­...", noNews: "ç¾åœ¨ãŠçŸ¥ã‚‰ã›ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚", privacy: "ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼", privAlert: "ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã¯ç¾åœ¨æº–å‚™ä¸­ï¼ˆå®Ÿè£…äºˆå®šï¼‰ã§ã™ã€‚" },
                en: { back: "Back", backTop: "Back to KEI App Lab", news: "Latest News", history: "â–¶ View all history", loading: "Loading...", noNews: "No news available.", privacy: "Privacy Policy", privAlert: "Privacy Policy is currently under preparation." },
                de: { back: "ZurÃ¼ck", backTop: "ZurÃ¼ck zu KEI App Lab", news: "Aktuelle News", history: "â–¶ Gesamten Verlauf", loading: "Wird geladen...", noNews: "Keine Nachrichten.", privacy: "Datenschutzrichtlinie", privAlert: "Die Datenschutzrichtlinie ist in Vorbereitung." },
                fr: { back: "Retour", backTop: "Retour Ã  KEI App Lab", news: "DerniÃ¨res Nouvelles", history: "â–¶ Voir tout l'historique", loading: "Chargement...", noNews: "Aucune nouvelle.", privacy: "Politique de confidentialitÃ©", privAlert: "La politique de confidentialitÃ© est en cours de prÃ©paration." },
                es: { back: "Volver", backTop: "Volver a KEI App Lab", news: "Ãšltimas Noticias", history: "â–¶ Ver todo el historial", loading: "Cargando...", noNews: "No hay noticias.", privacy: "PolÃ­tica de privacidad", privAlert: "La polÃ­tica de privacidad estÃ¡ en preparaciÃ³n." }
            };

            // --- æˆ»ã‚‹ãƒœã‚¿ãƒ³ã®åˆ¶å¾¡ ---
            function goBack(e) {
                e.preventDefault();
                if (history.length <= 1 || document.referrer === "") window.location.href = "../index.html";
                else history.back();
            }

            // --- è¨€èªãƒ¡ãƒ‹ãƒ¥ãƒ¼åˆ¶å¾¡ ---
            function toggleLangMenu() { document.getElementById('langMenu').classList.toggle('open'); }
            function changeLang(lang) {
                currentLang = lang;
                localStorage.setItem('selectedLang', lang);
                document.getElementById('langMenu').classList.remove('open');
                renderPage();
            }

            // --- ç”»é¢ã®æç”» ---
            function renderPage(targetData = null) {
                const suffix = currentLang === 'ja' ? '' : '_' + currentLang;
                const t = texts[currentLang] || texts.en;

                // å›ºå®šãƒ†ã‚­ã‚¹ãƒˆã®åˆ‡ã‚Šæ›¿ãˆ
                const isDirectLink = (history.length <= 1 || document.referrer === "");
                document.getElementById('back-text').textContent = isDirectLink ? t.backTop : t.back;
                document.getElementById('news-heading').textContent = t.news;
                const hLink = document.getElementById('history-link');
                if(hLink.style.display !== 'none') hLink.textContent = t.history;
                document.getElementById('privacy-link').textContent = t.privacy;

                // ãƒ‡ãƒ¼ã‚¿ã®åŸ‹ã‚è¾¼ã¿
                const projName = appData['project' + suffix] || appData.project_ja || 'gorira';
                document.getElementById('app-title').textContent = projName;
                document.getElementById('app-sub-title').textContent = projName;
                document.getElementById('app-date').textContent = appData.date || '';
                document.getElementById('app-desc').innerHTML = appData['body' + suffix] || appData.body_ja || '';

                // ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®è¡¨ç¤º (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯newsData, å±¥æ­´èª­ã¿è¾¼ã¿å¾Œã¯oldNewsDataã‚’å—ã‘å–ã‚‹)
                const dataToRender = targetData || (typeof newsData !== 'undefined' ? newsData : []);
                const container = document.getElementById('news-container');
                container.innerHTML = '';
                
                if(dataToRender.length > 0){
                    dataToRender.forEach(item => {
                        const div = document.createElement('div');
                        div.className = 'news-box';
                        const title = item['title' + suffix] || item.title_ja || item.title_en || '';
                        div.innerHTML = '<div class="date">' + item.date + '</div><div style="font-weight:bold;">' + title + '</div>';
                        container.appendChild(div);
                    });
                } else {
                    container.innerHTML = '<p>' + t.noNews + '</p>';
                }
            }

            // --- å‹•çš„ãƒ­ãƒ¼ãƒ‰ï¼šå…¨å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã®å–å¾— ---
            function loadOldNews(e) {
                e.preventDefault();
                const link = document.getElementById('history-link');
                const t = texts[currentLang] || texts.en;
                link.textContent = t.loading;
                link.style.pointerEvents = 'none';

                // é€šä¿¡æœ€é©åŒ–ï¼šã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸç¬é–“ã«scriptã‚¿ã‚°ã‚’ç”Ÿæˆã—ã¦ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã™ã‚‹
                const script = document.createElement('script');
                script.src = 'old_news.js';
                script.onload = () => {
                    link.style.display = 'none'; // ãƒªãƒ³ã‚¯ã‚’éš ã™
                    if(typeof oldNewsData !== 'undefined') renderPage(oldNewsData); // å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã§å†æç”»
                };
                script.onerror = () => {
                    link.textContent = 'Data Load Error';
                    link.style.pointerEvents = 'auto';
                };
                document.body.appendChild(script);
            }

            // --- ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ã®å­˜åœ¨ç¢ºèª (HEADãƒªã‚¯ã‚¨ã‚¹ãƒˆ) ---
            async function checkPrivacy(e) {
                e.preventDefault();
                const t = texts[currentLang] || texts.en;
                try {
                    // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã›ãšã«ãƒ•ã‚¡ã‚¤ãƒ«ã®å­˜åœ¨ã ã‘ã‚’è»½ãç¢ºèªã™ã‚‹
                    const res = await fetch('../privacy.html', { method: 'HEAD' });
                    if (res.ok) window.location.href = '../privacy.html';
                    else throw new Error('Not Found');
                } catch (err) {
                    alert(t.privAlert); // å­˜åœ¨ã—ãªã„å ´åˆã¯å®Ÿè£…äºˆå®šã®POPã‚’å‡ºã™
                }
            }

            // åˆå›èª­ã¿è¾¼ã¿æ™‚ã®å®Ÿè¡Œ
            document.addEventListener("DOMContentLoaded", () => { renderPage(); });
        </script>
    </body>
    </html>